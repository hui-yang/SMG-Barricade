describe("In Barricade", function() {
  'use strict';
  var _gameLogic;

  beforeEach(module("myApp"));

  beforeEach(inject(function(gameLogic) {
    _gameLogic = gameLogic;
  }));

  function expectMoveOk(turnIndexBeforeMove, stateBeforeMove, move) {
    expect (_gameLogic.isMoveOk({
      turnIndexBeforeMove: turnIndexBeforeMove,
      stateBeforeMove: stateBeforeMove,
      move: move
    })).toBe(true);
  }

  function expectIllegalMove(turnIndexBeforeMove, stateBeforeMove, move) {
    expect (_gameLogic.isMoveOk({
      turnIndexBeforeMove: turnIndexBeforeMove,
      stateBeforeMove: stateBeforeMove,
      move: move
    })).toBe(false);
  }

  it("0. dice move (+)", function() {
    expectMoveOk(0, {},
      [
        {setTurn: {turnIndex : 0}},
        {set: {key: 'type', value: 'dice'}},
        {setRandomInteger: {key: "dice", from: 1, to : 7}}
      ]);
  });

  it("0. dice move (-)", function() {
    expectIllegalMove(0, {},
      [
        {setTurn: {turnIndex : 0}},
        {set: {key: 'type', value: 'dice'}},
        {setRandomInteger: {key: "dice", from: 6, to : 7}}
      ]);
  });

  it("1. step on empty spot at the beginning of the game (+)", function() {
    expectMoveOk(0, {},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', 'R', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 12, to_col: 4, from_row: 14, from_col: 1}}},
        {set: {key: 'dice', value: 4}}
      ]);
  });

    it("1. step on empty spot in the middle of the game (+)", function() {
      expectMoveOk(0, {
        board: [
          ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
          ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
          ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
          ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
          ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
          ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
          ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
          ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
          ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
          ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
          ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
          ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
          ['0', '', '', '', 'R', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
          ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
          ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
          ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
        ],
        delta: {to_row: 13, to_col: 6, from_row: 14, from_col: 5},
        dice: 1,
        type: 'normal'
      },
        [
          {setTurn: {turnIndex : 1}},
          {set: {key: 'type', value: 'normal'}},
          {set: {key: 'board', value:
            [
              ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
              ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
              ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
              ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
              ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
              ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
              ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
              ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
              ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
              ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
              ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
              ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
              ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
              ['0', '0', 'R', 'R', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
              ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
              ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
            ]}},
          {set: {key: 'delta', value: {to_row: 13, to_col: 3, from_row: 12, from_col: 4}}},
          {set: {key: 'dice', value: 2}}
        ]);
    });

  it("1.1 more steps than dice shows (-)", function() {
    expectIllegalMove(0, {},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', 'R', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 11, to_col: 4, from_row: 14, from_col: 1}}},
        {set: {key: 'dice', value: 4}}
      ]);
  });

  it("1.2 less steps than dice shows (-)", function() {
    expectIllegalMove(0, {},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', 'R', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 12, to_col: 4, from_row: 14, from_col: 1}}},
        {set: {key: 'dice', value: 6}}
      ]);
  });

  it("1.3 walk back to base (-)", function() {
    expectIllegalMove(0, {},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', 'R', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 14, to_col: 1, from_row: 12, from_col: 4}}},
        {set: {key: 'dice', value: 5}}
      ]);
  });

  it("2. step on barricade (+)", function() {
    expectMoveOk(0, {},
      [
        {setTurn: {turnIndex : 0}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', 'R', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 11, to_col: 4, from_row: 14, from_col: 1}}},
        {set: {key: 'dice', value: 5}}
      ]);
  });

  it("3. step on opponent (+) case 1", function() {
    expectMoveOk(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', '0', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 13, to_col: 6, from_row: 14, from_col: 5},
    dice: 1,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', 'R', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 6, from_row: 13, from_col: 2}}},
        {set: {key: 'dice', value: 4}}
      ]);
  });

  it("3. step on opponent (+) case 2", function() {
    expectMoveOk(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', '0', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 13, to_col: 6, from_row: 14, from_col: 5},
    dice: 1,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', 'R', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 6, from_row: 13, from_col: 2}}},
        {set: {key: 'dice', value: 4}}
      ]);
  });

  it("3. step on opponent (+) case 3", function() {
    expectMoveOk(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', 'R', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 13, to_col: 6, from_row: 14, from_col: 5},
    dice: 1,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', 'R', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 6, from_row: 13, from_col: 2}}},
        {set: {key: 'dice', value: 4}}
      ]);
  });

  it("3.1 fail to send opponent to base (-)", function() {
    expectIllegalMove(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 13, to_col: 6, from_row: 14, from_col: 5},
    dice: 1,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', 'R', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 6, from_row: 13, from_col: 2}}},
        {set: {key: 'dice', value: 4}}
      ]);
  });

  it("3.2 step on friendly pawn (-)", function() {
    expectIllegalMove(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 13, to_col: 6, from_row: 14, from_col: 5},
    dice: 1,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', '0', 'R', '', '', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 2, from_row: 14, from_col: 2}}},
        {set: {key: 'dice', value: 1}}
      ]);
  });

  it("4 walk past a friendly pawn (+)", function() {
    expectMoveOk(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', 'R', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 13, to_col: 6, from_row: 14, from_col: 5},
    dice: 1,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['R', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 0, from_row: 14, from_col: 2}}},
        {set: {key: 'dice', value: 3}}
      ]);
  });

  it("4.1 move opponent's pawn (-)", function() {
    expectIllegalMove(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', 'R', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 13, to_col: 6, from_row: 14, from_col: 5},
    dice: 1,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 12, to_col: 8, from_row: 13, from_col: 6}}},
        {set: {key: 'dice', value: 3}}
      ]);
  });

  it("5 walk past an opponent (+)", function() {
    expectMoveOk(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', 'R', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 13, to_col: 6, from_row: 14, from_col: 5},
    dice: 1,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', 'G', 'R', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 7, from_row: 13, from_col: 2}}},
        {set: {key: 'dice', value: 5}}
      ]);
  });

  it("5.1 walk past a barricade (-)", function() {
    expectIllegalMove(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', 'R', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 13, to_col: 6, from_row: 14, from_col: 5},
    dice: 1,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 11, to_col: 1, from_row: 13, from_col: 2}}},
        {set: {key: 'dice', value: 5}}
      ]);
  });

  it("6. place a barricade (+)", function() {
    expectMoveOk(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', 'R', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 11, to_col: 4, from_row: 14, from_col: 1},
    dice: 5,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'barricade'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', 'R', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 6}}},
        {set: {key: 'dice', value: -1}}
      ]);
  });

  it("6.1 place a barricade on pawn (-)", function() {
    expectIllegalMove(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', 'R', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 11, to_col: 4, from_row: 14, from_col: 1},
    dice: 5,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'barricade'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', 'R', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', 'R', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 6}}},
        {set: {key: 'dice', value: -1}}
      ]);
  });

  it("6.2 place a barricade in base (-)", function() {
    expectIllegalMove(0, {board: [
      ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', 'R', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 11, to_col: 4, from_row: 14, from_col: 1},
    dice: 5,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'barricade'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', 'R', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', 'R', '0', '0', '0', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', 'R', 'R', '', '1', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 14, to_col: 5}}},
        {set: {key: 'dice', value: -1}}
      ]);
  });

  it("6.3 first move to place a barricade (-)", function() {
    expectIllegalMove(0, {},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'barricade'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', 'R', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 6}}},
        {set: {key: 'dice', value: -1}}
      ]);
  });

  it("7. end game move with a barricade occupying the winning spot (+)", function() {
    expectMoveOk(0, {board: [
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', 'R', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['0', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '1', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 13, to_col: 5},
    dice: -1,
    type: 'barricade'},
      [
        {endMatch: {endMatchScores : [1, 0]}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'R', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['0', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', 'R', '0', '0', '1', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 0, to_col: 8, from_row: 1, from_col: 8}}},
        {set: {key: 'dice', value: 1}}
      ]);
  });

    it("7. end game move with an empty winning spot (+)", function() {
      expectMoveOk(0, {board: [
        ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
        ['0', '0', '0', '0', '0', '0', '0', '0', 'R', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
        ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
        ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
        ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
        ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
        ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
        ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
        ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
        ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
        ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
        ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
        ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
        ['0', '0', 'R', '0', '0', '1', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
        ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
        ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
      ],
      delta: {to_row: 13, to_col: 5},
      dice: -1,
      type: 'barricade'},
        [
          {endMatch: {endMatchScores : [1, 0]}},
          {set: {key: 'type', value: 'normal'}},
          {set: {key: 'board', value:
            [
              ['', '', '', '', '', '', '', '', 'R', '', '', '', '', '', '', '', ''], // 0
              ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
              ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
              ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
              ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
              ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
              ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
              ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
              ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
              ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
              ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
              ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
              ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
              ['0', '0', 'R', '0', '0', '1', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
              ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
              ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
            ]}},
          {set: {key: 'delta', value: {to_row: 0, to_col: 8, from_row: 1, from_col: 8}}},
          {set: {key: 'dice', value: 1}}
        ]);
    });

  it("7.1 move after game ends (-)", function() {
    expectIllegalMove(1, {board: [
      ['', '', '', '', '', '', '', '', 'R', '', '', '', '', '', '', '', ''], // 0
      ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
      ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
      ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
      ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
      ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
      ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
      ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
      ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
      ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
      ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
      ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
      ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
      ['0', '0', 'R', '0', '0', '1', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
      ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
      ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
    ],
    delta: {to_row: 0, to_col: 8, from_row: 1, from_col: 8},
    dice: 1,
    type: 'normal'},
      [
        {setTurn: {turnIndex : 0}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'R', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', 'R', '0', '0', '1', 'G', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', '0', '0', 'R', '', '0', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {to_row: 13, to_col: 7, from_row: 13, from_col: 6}}},
        {set: {key: 'dice', value: 1}}
      ]);
  });

  it("8 pass the turn after rolling the dice (+)", function() {
    expectMoveOk(0, {},
      [
        {setTurn: {turnIndex : 1}},
        {set: {key: 'type', value: 'normal'}},
        {set: {key: 'board', value:
          [
            ['', '', '', '', '', '', '', '', 'W', '', '', '', '', '', '', '', ''], // 0
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 1
            ['0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '0'], // 2
            ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0'], // 3
            ['', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', ''], // 4
            ['', '', '', '', '', '', '0', '0', '1', '0', '0', '', '', '', '', '', ''], // 5
            ['', '', '', '', '', '', '0', '', '', '', '0', '', '', '', '', '', ''], // 6
            ['', '', '', '', '0', '0', '1', '0', '0', '0', '1', '0', '0', '', '', '', ''], // 7
            ['', '', '', '', '0', '', '', '', '', '', '', '', '0', '', '', '', ''], // 8
            ['', '', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '', ''], // 9
            ['', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', ''], // 10
            ['1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '1'], // 11
            ['0', '', '', '', '0', '', '', '', '0', '', '', '', '0', '', '', '', '0'], // 12
            ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'], // 13
            ['', 'R', 'R', 'R', '', 'G', 'G', 'G', '', '', '', '', '', '', '', '', ''], // 14
            ['', 'R', '', 'R', '', 'G', '', 'G', '', '', '', '', '', '', '', '', '']
          ]}},
        {set: {key: 'delta', value: {}}},
        {set: {key: 'dice', value: 4}}
    ]);
  });
});
